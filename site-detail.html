<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ëŒ€ìƒì§€ ìƒì„¸ ì •ë³´ - ì „í†µì¡°ê²½ ì•ˆì „ì§€ë„ ì‹œë²”ì„œë¹„ìŠ¤</title>

  <!-- Google Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;500;600;700&display=swap" rel="stylesheet">

  <!-- CSS -->
  <link rel="stylesheet" href="css/variables.css">

  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }

    body {
      font-family: 'Noto Sans KR', sans-serif;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
    }

    /* ì§€ë„ ë°°ê²½ ì „ì²´ í™”ë©´ */
    .map-background {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: url('https://maps.googleapis.com/maps/api/staticmap?center=37.5829,126.9917&zoom=17&size=1920x1080&maptype=satellite&key=') no-repeat center center;
      background-size: cover;
      background-color: #2D4A3E;
      z-index: 0;
    }

    /* ì§€ë„ í”Œë ˆì´ìŠ¤í™€ë” (ì‹¤ì œ ì§€ë„ ëŒ€ì‹ ) */
    .map-placeholder {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: linear-gradient(135deg, #2D5016 0%, #1A3A0F 50%, #0F2608 100%);
      z-index: 0;
    }

    .map-placeholder::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-image:
        radial-gradient(circle at 30% 40%, rgba(74, 124, 89, 0.4) 0%, transparent 40%),
        radial-gradient(circle at 70% 60%, rgba(45, 80, 22, 0.5) 0%, transparent 35%),
        radial-gradient(circle at 50% 30%, rgba(100, 140, 100, 0.3) 0%, transparent 30%);
    }

    /* ë¡œê³  - ì¢Œì¸¡ ìƒë‹¨ */
    .logo {
      position: fixed;
      top: 20px;
      left: 20px;
      z-index: 100;
      display: inline-flex;
      align-items: center;
      padding: 10px 24px;
      background-color: #E8F4FD;
      border-radius: 24px;
      font-size: 14px;
      font-weight: 600;
      color: #333333;
      text-decoration: none;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
      transition: all 0.2s;
    }

    .logo:hover {
      background-color: #D0E8F9;
      transform: translateY(-1px);
    }

    /* ì¢Œì¸¡ ë©”ë‰´ ë²„íŠ¼ë“¤ - ì„¤ê³„ì„œ p.5 ê¸°ì¤€ 4ê°œ */
    .side-menu {
      position: fixed;
      top: 80px;
      left: 20px;
      z-index: 100;
      display: flex;
      flex-direction: column;
      gap: 8px;
    }

    .menu-btn {
      display: flex;
      align-items: center;
      gap: 10px;
      width: 160px;
      padding: 14px 18px;
      background-color: #FFFFFF;
      border: 2px solid #E0E0E0;
      border-radius: 12px;
      font-size: 14px;
      font-weight: 600;
      color: #333333;
      cursor: pointer;
      transition: all 0.2s;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
    }

    .menu-btn:hover {
      background-color: #F0F7FF;
      border-color: #0052CC;
      transform: translateX(4px);
    }

    .menu-btn--active {
      background-color: #0052CC;
      border-color: #0052CC;
      color: #FFFFFF;
    }

    .menu-btn--active:hover {
      background-color: #003D99;
    }

    .menu-btn__icon {
      width: 20px;
      height: 20px;
      flex-shrink: 0;
    }

    /* ëª¨ë‹¬ ì˜¤ë²„ë ˆì´ */
    .modal-overlay {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0, 0, 0, 0.5);
      z-index: 200;
      justify-content: center;
      align-items: center;
    }

    .modal-overlay--active {
      display: flex;
    }

    /* ëª¨ë‹¬ ì»¨í…ì¸  */
    .modal {
      position: relative;
      width: 90%;
      max-width: 900px;
      max-height: 85vh;
      background-color: #FFFFFF;
      border-radius: 16px;
      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
      overflow: hidden;
      display: flex;
      flex-direction: column;
    }

    .modal__header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 20px 24px;
      background-color: #4A7A8C;
      color: #FFFFFF;
    }

    .modal__title {
      font-size: 18px;
      font-weight: 600;
    }

    .modal__close {
      width: 32px;
      height: 32px;
      display: flex;
      align-items: center;
      justify-content: center;
      background: rgba(255, 255, 255, 0.2);
      border: none;
      border-radius: 8px;
      color: #FFFFFF;
      font-size: 20px;
      cursor: pointer;
      transition: background 0.2s;
    }

    .modal__close:hover {
      background: rgba(255, 255, 255, 0.3);
    }

    .modal__body {
      padding: 24px;
      overflow-y: auto;
      flex: 1;
    }

    /* ê¸°ë³¸ ì •ë³´ í…Œì´ë¸” */
    .info-table {
      width: 100%;
      border-collapse: collapse;
    }

    .info-table__section {
      margin-bottom: 24px;
    }

    .info-table__section-title {
      font-size: 14px;
      font-weight: 600;
      color: #333;
      padding: 12px 0;
      border-bottom: 2px solid #4A7A8C;
      margin-bottom: 12px;
    }

    .info-table__row {
      display: flex;
      border-bottom: 1px solid #E5E5E5;
    }

    .info-table__label {
      width: 140px;
      padding: 12px 16px;
      background-color: #F5F8FA;
      font-size: 13px;
      font-weight: 600;
      color: #555;
      flex-shrink: 0;
    }

    .info-table__value {
      flex: 1;
      padding: 12px 16px;
      font-size: 13px;
      color: #333;
    }

    .info-table__checkbox-group {
      display: flex;
      flex-wrap: wrap;
      gap: 16px;
    }

    .info-table__checkbox {
      display: flex;
      align-items: center;
      gap: 6px;
      font-size: 13px;
      color: #333;
    }

    .info-table__checkbox input[type="checkbox"] {
      width: 16px;
      height: 16px;
    }

    /* ì ê²€ ì´ë ¥ - í¬ì¸íŠ¸ ë¦¬ìŠ¤íŠ¸ */
    .inspection-list {
      display: flex;
      flex-direction: column;
      gap: 12px;
    }

    .inspection-item {
      display: flex;
      align-items: center;
      gap: 16px;
      padding: 16px;
      background-color: #F9FAFB;
      border-radius: 12px;
      cursor: pointer;
      transition: all 0.2s;
    }

    .inspection-item:hover {
      background-color: #EEF4FF;
      transform: translateX(4px);
    }

    .inspection-item__icon {
      width: 48px;
      height: 48px;
      border-radius: 12px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 24px;
      flex-shrink: 0;
    }

    .inspection-item__icon--report {
      background-color: #DBEAFE;
    }

    .inspection-item__icon--photo {
      background-color: #D1FAE5;
    }

    .inspection-item__icon--matterport {
      background-color: #FEE2E2;
    }

    .inspection-item__content {
      flex: 1;
    }

    .inspection-item__title {
      font-size: 15px;
      font-weight: 600;
      color: #333;
      margin-bottom: 4px;
    }

    .inspection-item__desc {
      font-size: 13px;
      color: #666;
    }

    .inspection-item__arrow {
      font-size: 18px;
      color: #999;
    }

    /* ì´ë ¥ ì´ë¯¸ì§€ í‘œì‹œ ì˜ì—­ */
    .history-image {
      width: 100%;
      text-align: center;
      padding: 40px 20px;
    }

    .history-image__placeholder {
      display: inline-block;
      padding: 60px 80px;
      background-color: #F5F5F5;
      border: 2px dashed #CCC;
      border-radius: 12px;
      color: #888;
      font-size: 14px;
    }

    /* ì ê²€ ì´ë ¥ ì§€ë„ í¬ì¸íŠ¸ ë§ˆì»¤ - ì„¤ê³„ì„œ p.7 */
    .map-markers {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: 50;
      pointer-events: none;
      display: none;
    }

    .map-markers--active {
      display: block;
    }

    .map-marker {
      position: absolute;
      width: 32px;
      height: 32px;
      background-color: #FF6B35;
      border: 3px solid #FFFFFF;
      border-radius: 50%;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
      cursor: pointer;
      pointer-events: auto;
      transform: translate(-50%, -50%);
      transition: all 0.2s;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 14px;
      color: #FFFFFF;
      font-weight: 700;
    }

    .map-marker:hover {
      transform: translate(-50%, -50%) scale(1.2);
      background-color: #E85A2A;
    }

    .map-marker--active {
      background-color: #0052CC;
      transform: translate(-50%, -50%) scale(1.3);
    }

    /* ì ê²€ ì´ë ¥ íŒì—… - ì„¤ê³„ì„œ p.7 â‘£ */
    .inspection-popup {
      position: fixed;
      z-index: 150;
      background-color: #FFFFFF;
      border-radius: 12px;
      box-shadow: 0 8px 32px rgba(0, 0, 0, 0.25);
      min-width: 200px;
      display: none;
      overflow: hidden;
    }

    .inspection-popup--active {
      display: block;
    }

    .inspection-popup__header {
      padding: 12px 16px;
      background-color: #4A7A8C;
      color: #FFFFFF;
      font-size: 14px;
      font-weight: 600;
    }

    .inspection-popup__body {
      padding: 8px 0;
    }

    .inspection-popup__item {
      display: flex;
      align-items: center;
      gap: 10px;
      padding: 12px 16px;
      cursor: pointer;
      transition: background 0.2s;
      font-size: 14px;
      color: #333;
    }

    .inspection-popup__item:hover {
      background-color: #F0F7FF;
    }

    .inspection-popup__item-icon {
      font-size: 18px;
    }

    /* ë°˜ì‘í˜• */
    @media (max-width: 768px) {
      .logo {
        font-size: 12px;
        padding: 8px 16px;
      }

      .side-menu {
        top: 70px;
        left: 10px;
      }

      .menu-btn {
        width: 140px;
        padding: 12px 14px;
        font-size: 13px;
      }

      .modal {
        width: 95%;
        max-height: 90vh;
      }

      .info-table__label {
        width: 100px;
        padding: 10px 12px;
      }
    }
  </style>
</head>
<body>
  <!-- ì§€ë„ ë°°ê²½ -->
  <div class="map-placeholder"></div>

  <!-- ì ê²€ ì´ë ¥ ì§€ë„ ë§ˆì»¤ë“¤ - ì„¤ê³„ì„œ p.7 â‘¢ -->
  <div class="map-markers" id="mapMarkers">
    <div class="map-marker" data-id="1" style="top: 35%; left: 45%;" onclick="showInspectionPopup(event, 1)">1</div>
    <div class="map-marker" data-id="2" style="top: 45%; left: 55%;" onclick="showInspectionPopup(event, 2)">2</div>
    <div class="map-marker" data-id="3" style="top: 55%; left: 48%;" onclick="showInspectionPopup(event, 3)">3</div>
    <div class="map-marker" data-id="4" style="top: 40%; left: 60%;" onclick="showInspectionPopup(event, 4)">4</div>
    <div class="map-marker" data-id="5" style="top: 50%; left: 40%;" onclick="showInspectionPopup(event, 5)">5</div>
  </div>

  <!-- ì ê²€ ì´ë ¥ íŒì—… - ì„¤ê³„ì„œ p.7 â‘£ -->
  <div class="inspection-popup" id="inspectionPopup">
    <div class="inspection-popup__header" id="popupHeader">ì ê²€ í¬ì¸íŠ¸ 1</div>
    <div class="inspection-popup__body">
      <div class="inspection-popup__item" onclick="alert('ì•ˆì „ ì ê²€ ë³´ê³ ì„œë¥¼ í‘œì‹œí•©ë‹ˆë‹¤.')">
        <span class="inspection-popup__item-icon">ğŸ“‹</span>
        ì•ˆì „ ì ê²€ ë³´ê³ ì„œ
      </div>
      <div class="inspection-popup__item" onclick="alert('ì ê²€ ì‚¬ì§„ì„ í‘œì‹œí•©ë‹ˆë‹¤.')">
        <span class="inspection-popup__item-icon">ğŸ“·</span>
        ì‚¬ì§„
      </div>
      <div class="inspection-popup__item" onclick="alert('ë©”íƒ€í¬íŠ¸ë¡œ ì´ë™í•©ë‹ˆë‹¤.')">
        <span class="inspection-popup__item-icon">ğŸ”—</span>
        ë©”íƒ€í¬íŠ¸
      </div>
    </div>
  </div>

  <!-- ë¡œê³  -->
  <a href="index.html" class="logo">ì „í†µì¡°ê²½ ì•ˆì „ì§€ë„ ì‹œë²”ì„œë¹„ìŠ¤</a>

  <!-- ì¢Œì¸¡ ë©”ë‰´ - ì„¤ê³„ì„œ p.5 ê¸°ì¤€ 4ê°œ ë²„íŠ¼ -->
  <div class="side-menu">
    <button class="menu-btn" data-modal="basic" id="btnBasic">
      <svg class="menu-btn__icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <circle cx="12" cy="12" r="10"/>
        <line x1="12" y1="16" x2="12" y2="12"/>
        <line x1="12" y1="8" x2="12.01" y2="8"/>
      </svg>
      ê¸°ë³¸ ì •ë³´
    </button>
    <button class="menu-btn" data-modal="inspection" id="btnInspection">
      <svg class="menu-btn__icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <path d="M9 11l3 3L22 4"/>
        <path d="M21 12v7a2 2 0 01-2 2H5a2 2 0 01-2-2V5a2 2 0 012-2h11"/>
      </svg>
      ì ê²€ ì´ë ¥
    </button>
    <button class="menu-btn" data-modal="disaster" id="btnDisaster">
      <svg class="menu-btn__icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <path d="M10.29 3.86L1.82 18a2 2 0 001.71 3h16.94a2 2 0 001.71-3L13.71 3.86a2 2 0 00-3.42 0z"/>
        <line x1="12" y1="9" x2="12" y2="13"/>
        <line x1="12" y1="17" x2="12.01" y2="17"/>
      </svg>
      ì¬í•´ ì´ë ¥
    </button>
    <button class="menu-btn" data-modal="repair" id="btnRepair">
      <svg class="menu-btn__icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <path d="M14.7 6.3a1 1 0 000 1.4l1.6 1.6a1 1 0 001.4 0l3.77-3.77a6 6 0 01-7.94 7.94l-6.91 6.91a2.12 2.12 0 01-3-3l6.91-6.91a6 6 0 017.94-7.94l-3.76 3.76z"/>
      </svg>
      ìˆ˜ë¦¬ ì´ë ¥
    </button>
  </div>

  <!-- ê¸°ë³¸ ì •ë³´ ëª¨ë‹¬ -->
  <div class="modal-overlay" id="modalBasic">
    <div class="modal">
      <div class="modal__header">
        <h2 class="modal__title">ê¸°ë³¸ ì •ë³´</h2>
        <button class="modal__close" onclick="closeModal('modalBasic')">&times;</button>
      </div>
      <div class="modal__body">
        <div class="info-table__section">
          <div class="info-table__section-title">êµ­ê°€ìœ ì‚° ê°œìš”</div>
          <div class="info-table__row">
            <span class="info-table__label">êµ­ê°€ìœ ì‚°ëª…</span>
            <span class="info-table__value" id="modalSiteName">ì°½ë•ê¶ ë‚™ì„ ì¬ ê¶Œì—­</span>
          </div>
          <div class="info-table__row">
            <span class="info-table__label">êµ­ê°€ìœ ì‚°ìœ í˜•</span>
            <span class="info-table__value">ì‚¬ì </span>
          </div>
          <div class="info-table__row">
            <span class="info-table__label">ì†Œì¬ì§€</span>
            <span class="info-table__value" id="modalLocation">ì„œìš¸íŠ¹ë³„ì‹œ ì¢…ë¡œêµ¬ ìœ¨ê³¡ë¡œ 99-0</span>
          </div>
          <div class="info-table__row">
            <span class="info-table__label">ì†Œìœ ì/ê´€ë¦¬ì</span>
            <span class="info-table__value">êµ­ê°€ìœ ì‚°ì²­ ì°½ë•ê¶ê´€ë¦¬ì†Œ</span>
          </div>
        </div>

        <div class="info-table__section">
          <div class="info-table__section-title">êµ­ê°€ìœ ì‚° ê´€ë¦¬</div>
          <div class="info-table__row">
            <span class="info-table__label">ì¢…í•©ì •ë¹„ê³„íš</span>
            <span class="info-table__value">â—</span>
          </div>
          <div class="info-table__row">
            <span class="info-table__label">ì •ê¸°ì¡°ì‚¬</span>
            <span class="info-table__value">â—</span>
          </div>
          <div class="info-table__row">
            <span class="info-table__label">ëŒë´„ì‚¬ì—…</span>
            <span class="info-table__value">-</span>
          </div>
          <div class="info-table__row">
            <span class="info-table__label">ëª¨ë‹ˆí„°ë§</span>
            <span class="info-table__value">â—</span>
          </div>
          <div class="info-table__row">
            <span class="info-table__label">êµ­ê°€ìœ ì‚°ì§€í‚´ì´</span>
            <span class="info-table__value">â—</span>
          </div>
        </div>

        <div class="info-table__section">
          <div class="info-table__section-title">ì£¼ë³€í™˜ê²½</div>
          <div class="info-table__row">
            <span class="info-table__label">ë²”ëŒìœ„í—˜ìš”ì†Œ</span>
            <span class="info-table__value">
              <div class="info-table__checkbox-group">
                <label class="info-table__checkbox"><input type="checkbox"> ê°•, í•˜ì²œ</label>
                <label class="info-table__checkbox"><input type="checkbox"> ê³„ê³¡</label>
                <label class="info-table__checkbox"><input type="checkbox"> ì €ìˆ˜ì§€</label>
                <label class="info-table__checkbox"><input type="checkbox"> ë°”ë‹¤</label>
                <label class="info-table__checkbox"><input type="checkbox"> ê¸°íƒ€</label>
              </div>
            </span>
          </div>
          <div class="info-table__row">
            <span class="info-table__label">ì¸ì ‘ì§€í˜•</span>
            <span class="info-table__value">
              <div class="info-table__checkbox-group">
                <label class="info-table__checkbox"><input type="checkbox"> ê²½ì‚¬</label>
                <label class="info-table__checkbox"><input type="checkbox" checked> ì˜¹ë²½</label>
                <label class="info-table__checkbox"><input type="checkbox" checked> ì „ë„ìœ„í—˜</label>
                <label class="info-table__checkbox"><input type="checkbox"> ì ˆê°œì§€</label>
                <label class="info-table__checkbox"><input type="checkbox"> ê¸°íƒ€</label>
              </div>
            </span>
          </div>
          <div class="info-table__row">
            <span class="info-table__label">ì£¼ë³€ ì˜í–¥</span>
            <span class="info-table__value">
              <div class="info-table__checkbox-group">
                <label class="info-table__checkbox"><input type="checkbox"> ìŠµí•´</label>
                <label class="info-table__checkbox"><input type="checkbox"> ê³µí•´</label>
                <label class="info-table__checkbox"><input type="checkbox"> ì—¼í•´</label>
                <label class="info-table__checkbox"><input type="checkbox"> ì§„ë™</label>
                <label class="info-table__checkbox"><input type="checkbox"> ê¸°íƒ€</label>
              </div>
            </span>
          </div>
          <div class="info-table__row">
            <span class="info-table__label">ê³ ì €ì°¨</span>
            <span class="info-table__value">
              <div class="info-table__checkbox-group">
                <label class="info-table__checkbox"><input type="checkbox" checked> ë‚®ìŒ</label>
                <label class="info-table__checkbox"><input type="checkbox"> ë†’ìŒ</label>
              </div>
            </span>
          </div>
          <div class="info-table__row">
            <span class="info-table__label">ìˆ˜ë¦¬ì¡°ê±´</span>
            <span class="info-table__value">
              <div class="info-table__checkbox-group">
                <label class="info-table__checkbox"><input type="checkbox" checked> dry</label>
                <label class="info-table__checkbox"><input type="checkbox"> damp</label>
                <label class="info-table__checkbox"><input type="checkbox"> wet</label>
                <label class="info-table__checkbox"><input type="checkbox"> dripping</label>
                <label class="info-table__checkbox"><input type="checkbox"> flowing</label>
              </div>
            </span>
          </div>
          <div class="info-table__row">
            <span class="info-table__label">ê°•ìš°ì´ë ¥</span>
            <span class="info-table__value">í•´ë‹¹ ì§€ì—­ ìµœê·¼ 10ê°œë…„ ìµœëŒ€ ì¼ê°•ìš°ê°•ë„ ëˆ„ë…„ í‰ê· ê°’ê³¼ ìµœê·¼ 2ê°œë…„ ìµœëŒ€ ê°•ìš°ëŸ‰</span>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- ì ê²€ ì´ë ¥ ëª¨ë‹¬ -->
  <div class="modal-overlay" id="modalInspection">
    <div class="modal">
      <div class="modal__header">
        <h2 class="modal__title">ì ê²€ ì´ë ¥</h2>
        <button class="modal__close" onclick="closeModal('modalInspection')">&times;</button>
      </div>
      <div class="modal__body">
        <p style="font-size: 14px; color: #666; margin-bottom: 16px;">ì§€ë„ì—ì„œ ì ê²€ ì´ë ¥ í¬ì¸íŠ¸ë¥¼ ì„ íƒí•˜ê±°ë‚˜ ì•„ë˜ í•­ëª©ì„ í´ë¦­í•˜ì„¸ìš”.</p>
        <div class="inspection-list">
          <div class="inspection-item" onclick="alert('ì•ˆì „ ì ê²€ ë³´ê³ ì„œë¥¼ í‘œì‹œí•©ë‹ˆë‹¤.')">
            <div class="inspection-item__icon inspection-item__icon--report">ğŸ“‹</div>
            <div class="inspection-item__content">
              <div class="inspection-item__title">ì•ˆì „ ì ê²€ ë³´ê³ ì„œ</div>
              <div class="inspection-item__desc">2024-11-20 ì •ê¸°ì ê²€ ë³´ê³ ì„œ</div>
            </div>
            <div class="inspection-item__arrow">â†’</div>
          </div>
          <div class="inspection-item" onclick="alert('ì ê²€ ì‚¬ì§„ì„ í‘œì‹œí•©ë‹ˆë‹¤.')">
            <div class="inspection-item__icon inspection-item__icon--photo">ğŸ“·</div>
            <div class="inspection-item__content">
              <div class="inspection-item__title">ì‚¬ì§„</div>
              <div class="inspection-item__desc">ì‚¬ì§„ê¸°ë¡, ì§€ì ë³„ ì‚¬ì§„</div>
            </div>
            <div class="inspection-item__arrow">â†’</div>
          </div>
          <div class="inspection-item" onclick="alert('ë©”íƒ€í¬íŠ¸ ë§í¬ë¡œ ì´ë™í•©ë‹ˆë‹¤.')">
            <div class="inspection-item__icon inspection-item__icon--matterport">ğŸ”—</div>
            <div class="inspection-item__content">
              <div class="inspection-item__title">ë©”íƒ€í¬íŠ¸</div>
              <div class="inspection-item__desc">3D ìŠ¤ìº” ë·°ì–´ë¡œ ì´ë™</div>
            </div>
            <div class="inspection-item__arrow">â†’</div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- ì¬í•´ ì´ë ¥ ëª¨ë‹¬ -->
  <div class="modal-overlay" id="modalDisaster">
    <div class="modal">
      <div class="modal__header">
        <h2 class="modal__title">ì¬í•´ ì´ë ¥</h2>
        <button class="modal__close" onclick="closeModal('modalDisaster')">&times;</button>
      </div>
      <div class="modal__body">
        <div class="history-image">
          <div class="history-image__placeholder">
            ì¬í•´ ì´ë ¥ ì´ë¯¸ì§€ê°€ í‘œì‹œë©ë‹ˆë‹¤.<br><br>
            (ì´ë¯¸ì§€ë§Œ í‘œì¶œ)
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- ìˆ˜ë¦¬ ì´ë ¥ ëª¨ë‹¬ -->
  <div class="modal-overlay" id="modalRepair">
    <div class="modal">
      <div class="modal__header">
        <h2 class="modal__title">ìˆ˜ë¦¬ ì´ë ¥</h2>
        <button class="modal__close" onclick="closeModal('modalRepair')">&times;</button>
      </div>
      <div class="modal__body">
        <div class="history-image">
          <div class="history-image__placeholder">
            ìˆ˜ë¦¬ ì´ë ¥ ì´ë¯¸ì§€ê°€ í‘œì‹œë©ë‹ˆë‹¤.<br><br>
            (ì´ë¯¸ì§€ë§Œ í‘œì¶œ)
          </div>
        </div>
      </div>
    </div>
  </div>

  <script>
    // URL íŒŒë¼ë¯¸í„°
    const urlParams = new URLSearchParams(window.location.search);
    const siteId = urlParams.get('site') || '1';

    // ëŒ€ìƒì§€ ë°ì´í„°
    const sites = {
      1: {
        name: 'ì£¼í•©ë£¨',
        location: 'ì„œìš¸ ì¢…ë¡œêµ¬ ì™€ë£¡ë™ 2-71 (ì°½ë•ê¶ í›„ì›)',
        lat: 37.5829,
        lng: 126.9917
      },
      2: {
        name: 'ì—°ê²½ë‹¹',
        location: 'ì„œìš¸ ì¢…ë¡œêµ¬ ì™€ë£¡ë™ 2-71 (ì°½ë•ê¶ í›„ì›)',
        lat: 37.5825,
        lng: 126.9932
      },
      3: {
        name: 'ë‚™ì„ ì¬',
        location: 'ì„œìš¸ ì¢…ë¡œêµ¬ ì™€ë£¡ë™ 2-71 (ì°½ë•ê¶)',
        lat: 37.5795,
        lng: 126.9920
      },
      4: {
        name: 'ë¶€ìš©ì •',
        location: 'ì„œìš¸ ì¢…ë¡œêµ¬ ì™€ë£¡ë™ 2-71 (ì°½ë•ê¶ í›„ì›)',
        lat: 37.5831,
        lng: 126.9915
      },
      5: {
        name: 'ì¡´ë•ì •',
        location: 'ì„œìš¸ ì¢…ë¡œêµ¬ ì™€ë£¡ë™ 2-71 (ì°½ë•ê¶ í›„ì›)',
        lat: 37.5838,
        lng: 126.9925
      }
    };

    const site = sites[siteId] || sites[1];

    // ëª¨ë‹¬ ë‚´ ì •ë³´ ì—…ë°ì´íŠ¸
    document.getElementById('modalSiteName').textContent = 'ì°½ë•ê¶ ' + site.name + ' ê¶Œì—­';
    document.getElementById('modalLocation').textContent = site.location;

    // ë©”ë‰´ ë²„íŠ¼ í´ë¦­ ì´ë²¤íŠ¸
    document.querySelectorAll('.menu-btn').forEach(btn => {
      btn.addEventListener('click', function() {
        const modalId = this.dataset.modal;

        // ì ê²€ ì´ë ¥ ë²„íŠ¼ í´ë¦­ ì‹œ ì§€ë„ì— ë§ˆì»¤ í‘œì‹œ (ì„¤ê³„ì„œ p.7)
        if (modalId === 'inspection') {
          toggleMapMarkers(true);
          // ëª¨ë‹¬ ëŒ€ì‹  ë§ˆì»¤ë§Œ í‘œì‹œ
          document.querySelectorAll('.menu-btn').forEach(b => b.classList.remove('menu-btn--active'));
          this.classList.add('menu-btn--active');
          return;
        } else {
          toggleMapMarkers(false);
          hideInspectionPopup();
        }

        openModal('modal' + modalId.charAt(0).toUpperCase() + modalId.slice(1));

        // í™œì„±í™” ìƒíƒœ í† ê¸€
        document.querySelectorAll('.menu-btn').forEach(b => b.classList.remove('menu-btn--active'));
        this.classList.add('menu-btn--active');
      });
    });

    // ì ê²€ ì´ë ¥ ë§ˆì»¤ í‘œì‹œ/ìˆ¨ê¹€ (ì„¤ê³„ì„œ p.7 â‘¡)
    function toggleMapMarkers(show) {
      const markers = document.getElementById('mapMarkers');
      if (show) {
        markers.classList.add('map-markers--active');
      } else {
        markers.classList.remove('map-markers--active');
      }
    }

    // ì ê²€ ì´ë ¥ íŒì—… í‘œì‹œ (ì„¤ê³„ì„œ p.7 â‘£)
    function showInspectionPopup(event, pointId) {
      event.stopPropagation();
      const popup = document.getElementById('inspectionPopup');
      const header = document.getElementById('popupHeader');

      // íŒì—… í—¤ë” ì—…ë°ì´íŠ¸
      header.textContent = 'ì ê²€ í¬ì¸íŠ¸ ' + pointId;

      // ë§ˆì»¤ í™œì„±í™” ìƒíƒœ
      document.querySelectorAll('.map-marker').forEach(m => m.classList.remove('map-marker--active'));
      event.target.classList.add('map-marker--active');

      // íŒì—… ìœ„ì¹˜ ì„¤ì •
      const rect = event.target.getBoundingClientRect();
      popup.style.left = (rect.right + 10) + 'px';
      popup.style.top = rect.top + 'px';

      popup.classList.add('inspection-popup--active');
    }

    // ì ê²€ ì´ë ¥ íŒì—… ìˆ¨ê¹€
    function hideInspectionPopup() {
      const popup = document.getElementById('inspectionPopup');
      popup.classList.remove('inspection-popup--active');
      document.querySelectorAll('.map-marker').forEach(m => m.classList.remove('map-marker--active'));
    }

    // ì§€ë„ í´ë¦­ ì‹œ íŒì—… ë‹«ê¸°
    document.querySelector('.map-placeholder').addEventListener('click', function() {
      hideInspectionPopup();
    });

    // ëª¨ë‹¬ ì—´ê¸°
    function openModal(modalId) {
      document.getElementById(modalId).classList.add('modal-overlay--active');
    }

    // ëª¨ë‹¬ ë‹«ê¸°
    function closeModal(modalId) {
      document.getElementById(modalId).classList.remove('modal-overlay--active');
      document.querySelectorAll('.menu-btn').forEach(b => b.classList.remove('menu-btn--active'));
    }

    // ì˜¤ë²„ë ˆì´ í´ë¦­ìœ¼ë¡œ ëª¨ë‹¬ ë‹«ê¸°
    document.querySelectorAll('.modal-overlay').forEach(overlay => {
      overlay.addEventListener('click', function(e) {
        if (e.target === this) {
          this.classList.remove('modal-overlay--active');
          document.querySelectorAll('.menu-btn').forEach(b => b.classList.remove('menu-btn--active'));
        }
      });
    });

    // ESC í‚¤ë¡œ ëª¨ë‹¬ ë‹«ê¸°
    document.addEventListener('keydown', function(e) {
      if (e.key === 'Escape') {
        document.querySelectorAll('.modal-overlay').forEach(overlay => {
          overlay.classList.remove('modal-overlay--active');
        });
        document.querySelectorAll('.menu-btn').forEach(b => b.classList.remove('menu-btn--active'));
      }
    });
  </script>
</body>
</html>
